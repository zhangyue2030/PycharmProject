import requestsfrom lxml import etreeimport  requestsurl = "https://movie.douban.com/chart"headers = { "User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/62.0.3202.75 Safari/537.36"}response = requests.get(url,headers=headers)html_str = response.content.decode("utf-8")#print(html_str)print(response)html = etree.HTML(html_str)#1.获取所有电影的url地址url_list = html.xpath("//tr[@class='item']/td/div/a/@href")#print(url_list)#2.获取所有图片的地址img_list = html.xpath("//tr[@class='item']/td/a/img/@src")#print(img_list)#3.需要把每部电影组成字典，字典中是电影的更重要的数据，不如标题，图片地址，评论数，评分#思路：#1.分组#2.提取每一组数据table_list = html.xpath("//div[@class='indent']/div/table")for table in table_list:    item = {}    item["title"] = table.xpath(".//div[@class='pl2']/a//text()")[0].replace("/","").strip()    item["href"] = table.xpath(".//div[@class='pl2']/a/@href")[0]    item["img"] = table.xpath(".//a[@class='nbg']/img/@src")[0]    item["comment_num"] = table.xpath(".//span[@class='pl']/text()")[0]    item["rating_num"] = table.xpath(".//span[@class='rating_nums']/text()")[0]    print(item)